<html>
<head>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"> </script> 
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/> 
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="style.css"/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
    
<body ng-app="EasyEats" ng-controller="mainController">
    <div id="test">
        <p>Hello World!</p>
    
        <button type="button" id="search" name="search" value="Search" ng-click="getOutput();">CLICK HERE</button>
    </div>
     <div class="success" id="success">
    </div>
    <div class="error" id="failure">
    </div>
   

    <script>
    var module = angular.module('EasyEats',[]);
    module.controller('mainController' , function($scope, $http){
        
        
        $scope.getOutput = function(){
            
            //document.getElementById('failure').innerHTML = "this step works";
            $http({
            method: 'GET',
          // url : "http://localhost:8081/service?keyword=" + keyword + "&categorySelected=" + categorySelected + "&distance=" + distance + "&radio=" + radio + "&locationData=" + locationData
               
                //To be used like this in AWS
          //url : "/service?keyword=" + keyword + "&categorySelected=" + categorySelected + "&distance=" + distance + "&radio=" + radio + "&locationData=" + locationData
            
            url:"http://localhost:3000/service"
                
            }).then(function (success){
                
                console.log(success.data);
                //$scope.resultArray = success.data;
                //displayTable(success.data);
               // parseNearbyPlacesJS(success.data);
               // alert('Success');
                document.getElementById('success').innerHTML = success.data;
                
                },function (error){
                
                 //document.getElementById('alertOutput1Fatal').innerHTML = "Failed to get search results.";   
               // document.getElementById('alertOutput1Fatal').style.display="block";
               // alert('Error! '+error);
            
            document.getElementById('failure').innerHTML = error.data;
                
            });
        }
        
        
        
    });
    </script>
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.4/ui-bootstrap-tpls.min.js">
</script>
    
    </body>
</html>
